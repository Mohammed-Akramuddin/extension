<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Icon Converter</title>
	<style>
		body {
			font-family: system-ui;
			padding: 40px;
			max-width: 800px;
			margin: 0 auto;
		}
		.upload-area {
			border: 2px dashed #ccc;
			border-radius: 8px;
			padding: 40px;
			text-align: center;
			margin: 20px 0;
		}
		button {
			background: #4285f4;
			color: white;
			border: none;
			padding: 12px 24px;
			border-radius: 6px;
			cursor: pointer;
			margin: 10px;
		}
		button:hover {
			background: #357ae8;
		}
		.preview {
			display: flex;
			gap: 20px;
			margin: 20px 0;
			flex-wrap: wrap;
		}
		.icon-preview {
			text-align: center;
		}
		canvas {
			border: 1px solid #ddd;
			margin: 10px;
		}
	</style>
</head>
<body>
	<h1>Extension Icon Converter</h1>
	<p>Convert your extension_img.jpg to properly sized PNG icons</p>
	
	<div class="upload-area">
		<input type="file" id="fileInput" accept="image/*">
		<p>Select extension_img.jpg</p>
	</div>
	
	<button onclick="convertIcons()">Convert to PNG Icons</button>
	
	<div class="preview" id="preview"></div>
	
	<script>
		const sizes = [16, 32, 48, 128];
		
		function convertIcons() {
			const fileInput = document.getElementById('fileInput');
			if (!fileInput.files[0]) {
				alert('Please select an image file first');
				return;
			}
			
			const file = fileInput.files[0];
			const reader = new FileReader();
			
			reader.onload = (e) => {
				const img = new Image();
				img.onload = () => {
					const preview = document.getElementById('preview');
					preview.innerHTML = '';
					
					sizes.forEach(size => {
						const canvas = document.createElement('canvas');
						canvas.width = size;
						canvas.height = size;
						const ctx = canvas.getContext('2d');
						
						// Draw image resized to canvas
						ctx.drawImage(img, 0, 0, size, size);
						
						// Convert to blob and download
						canvas.toBlob((blob) => {
							const url = URL.createObjectURL(blob);
							const a = document.createElement('a');
							a.href = url;
							a.download = `icon${size}.png`;
							a.click();
							URL.revokeObjectURL(url);
						}, 'image/png');
						
						// Show preview
						const div = document.createElement('div');
						div.className = 'icon-preview';
						div.innerHTML = `<p>${size}x${size}</p>`;
						div.appendChild(canvas);
						preview.appendChild(div);
					});
					
					// Also create icon.png (128x128 as default)
					setTimeout(() => {
						const canvas = document.createElement('canvas');
						canvas.width = 128;
						canvas.height = 128;
						const ctx = canvas.getContext('2d');
						ctx.drawImage(img, 0, 0, 128, 128);
						canvas.toBlob((blob) => {
							const url = URL.createObjectURL(blob);
							const a = document.createElement('a');
							a.href = url;
							a.download = 'icon.png';
							a.click();
							URL.revokeObjectURL(url);
						}, 'image/png');
					}, 500);
					
					alert('Icons generated! Check your Downloads folder and move them to the extension folder.');
				};
				img.src = e.target.result;
			};
			
			reader.readAsDataURL(file);
		}
	</script>
</body>
</html>

